"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[281],{80281:function(e,n,r){r.r(n),r.d(n,{default:function(){return te}});var t=r(29439),o=r(72791),a=r(59434),i=r(6907),s=r(3634),l=r(46916),d=function(e){return e.filter},c=function(e){return e.contacts.items},u=function(e){return e.contacts.isLoading},m=(0,l.P1)([c,d],(function(e,n){var r=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(r)}))})),x=r(68870),h=r(20890),p=r(49877),b=r(15206),f=r(69333),j=r(36259),Z=r(46112),g=r(41286),v=r(31993),w=r(52739),y=r(60627),C=r(55705),k=r(35527),P=r(61889),S=r(68096),W=r(94925),A=r(14527),F=r(63466),T=r(47071),L=r(36151),q=r(23867),B=r(63833),E=r(53618),I=r(80184),N=function(e){var n=e.onClose,r=e.id,t=e.name,o=e.number,i=(0,a.I0)(),l=(0,C.TA)({initialValues:{name:t,number:o},validationSchema:q.p7,onSubmit:function(e,a){var l=a.resetForm;console.log(e),t.trim().toLowerCase()!==e.name.trim().toLowerCase()||o!==e.number?(i((0,s.Tk)({id:r,values:e})).unwrap().then((function(){n()})).catch((function(){return b.Am.error("Oops, something went wrong. Please try again")})),l()):b.Am.error("Please make changes to the contact")}});return(0,I.jsx)(k.Z,{elevation:3,sx:{p:2},children:(0,I.jsxs)("form",{onSubmit:l.handleSubmit,children:[(0,I.jsxs)(P.ZP,{container:!0,spacing:2,children:[(0,I.jsx)(P.ZP,{item:!0,xs:12}),(0,I.jsx)(P.ZP,{item:!0,xs:12,children:(0,I.jsxs)(S.Z,{variant:"filled",fullWidth:!0,children:[(0,I.jsx)(W.Z,{htmlFor:"name",children:"Name"}),(0,I.jsx)(A.Z,{endAdornment:(0,I.jsx)(F.Z,{position:"end",children:(0,I.jsx)(B.Z,{})}),fullWidth:!0,autoFocus:!0,id:"name",value:l.values.name,onChange:l.handleChange,type:"name",label:"Name",error:l.touched.name&&Boolean(l.errors.name)}),(0,I.jsx)(T.Z,{error:!0,children:l.touched.name&&l.errors.name})]})}),(0,I.jsx)(P.ZP,{item:!0,xs:12}),(0,I.jsx)(P.ZP,{item:!0,xs:12,children:(0,I.jsxs)(S.Z,{variant:"filled",fullWidth:!0,children:[(0,I.jsx)(W.Z,{htmlFor:"number",children:"Number"}),(0,I.jsx)(A.Z,{endAdornment:(0,I.jsx)(F.Z,{position:"end",children:(0,I.jsx)(E.Z,{})}),fullWidth:!0,id:"number",value:l.values.number,onChange:l.handleChange,type:"text",label:"Number",error:l.touched.number&&Boolean(l.errors.number)}),(0,I.jsx)(T.Z,{error:!0,children:l.touched.number&&l.errors.number})]})})]}),(0,I.jsx)(L.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Update contact"})]})})},R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,width:300,bgcolor:"background.paper",boxShadow:24,p:"20px",zIndex:1e3,borderRadius:"15px"},z=function(e){var n=e.isOpenModal,r=e.onClose,t=e.id,o=e.name,a=e.number;return(0,I.jsx)(v.Z,{open:n,onClose:r,closeAfterTransition:!0,BackdropComponent:w.Z,BackdropProps:{timeout:500},"aria-labelledby":"spring-modal-name","aria-describedby":"spring-modal-number",children:(0,I.jsx)(y.Z,{in:n,children:(0,I.jsx)(x.Z,{sx:R,children:(0,I.jsx)(N,{onClose:r,id:t,name:o,number:a})})})})},M=r(33459),O=r(60383),V=r(75546),_=function(e){var n=e.id,r=e.name,i=e.number,l=(0,M.Z)(),d=(0,o.useState)(!1),c=(0,t.Z)(d,2),u=c[0],m=c[1],x=(0,a.I0)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f.Z,{children:(0,I.jsx)(V.ZP,{color:"#".concat(Math.floor(16777215*Math.random()).toString(16)),name:r,size:"45",round:!0,textSizeRatio:3})}),(0,I.jsx)(j.Z,{primary:(0,I.jsx)(h.Z,{type:"body2",style:{color:"dark"===l.palette.mode?"#cfd8dc":"#455a64",fontWeight:"600"},children:r}),secondary:(0,I.jsx)(h.Z,{type:"body2",style:{color:"dark"===l.palette.mode?"#cfd8dc":"#455a64"},children:i})}),(0,I.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},mr:{xs:"-10px",md:"0"}},children:[(0,I.jsx)(p.Z,{"aria-label":"edit contact",onClick:function(){return m(!0)},edge:"end",sx:{bgcolor:"dark"===l.palette.mode?"#e65100":"#f57c00",mb:{xs:"5px",md:"0"},mr:{md:"10px"},width:{xs:"40px",md:"60px"},height:{xs:"40px",md:"60px"}},children:(0,I.jsx)(g.Z,{})}),(0,I.jsx)(p.Z,{"aria-label":"delete contact",onClick:function(){return x((0,s.GK)(n)).unwrap().then((function(){return b.Am.success("The contact was successfully deleted from the phone book")})).catch((function(){return b.Am.error("Something went wrong, please try again")}))},edge:"end",sx:{bgcolor:"dark"===l.palette.mode?"#b71c1c":"#d32f2f",width:{xs:"40px",md:"60px"},height:{xs:"40px",md:"60px"}},children:(0,I.jsx)(O.Z,{})})]}),(0,I.jsx)(z,{isOpenModal:u,onClose:function(){return m(!1)},id:n,name:r,number:i})]})},G=r(10266),K=r(90493),Y=r(96535),D=function(){var e=(0,a.v9)(m),n=(0,M.Z)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(x.Z,{sx:{flexGrow:1,maxWidth:"800px",m:"10px auto 0 auto"},children:0===e.length?(0,I.jsx)(G.Z,{sx:{m:"25px auto 15px auto"},maxWidth:"sm",children:(0,I.jsx)(h.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:"There is no such contact in your phonebook"})}):(0,I.jsx)(K.Z,{dense:!1,sx:{width:"100%"},children:e.map((function(e){var r=e.id,t=e.name,o=e.number;return(0,I.jsx)(Y.ZP,{alignItems:"center",sx:{backgroundColor:"dark"===n.palette.mode?"#607d8b":"#ede7f6",borderRadius:"6px",boxShadow:6,mb:"8px",p:"15px"},children:(0,I.jsx)(_,{id:r,name:t,number:o},r)},r)}))})})})},U=r(5562),$=r(25299),H=function(e){var n=e.onClose,r=(0,a.I0)(),t=(0,a.v9)(c),o=(0,C.TA)({initialValues:{name:"",number:""},validationSchema:q.p7,onSubmit:function(e,o){var a=o.resetForm,i=e.name,l=e.number,d=t.some((function(e){return e.name.toLowerCase()===i.toLowerCase()})),c=t.some((function(e){return e.number===l}));if(d)return a(),$.Report.failure("","".concat(i," is already in contact"));if(c){a();var u=t.find((function(e){return e.number===l})).name;return $.Report.failure("","".concat(l," is already in contact as ").concat(u))}r((0,s.uK)(e)).then((function(){b.Am.success("\u0421ontact was successfully added"),n()})).catch((function(){return b.Am.error("Oops, something went wrong. Please try again")})),a()}});return(0,I.jsx)(k.Z,{elevation:3,sx:{p:2},children:(0,I.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,I.jsxs)(P.ZP,{container:!0,spacing:2,children:[(0,I.jsx)(P.ZP,{item:!0,xs:12}),(0,I.jsx)(P.ZP,{item:!0,xs:12,children:(0,I.jsxs)(S.Z,{variant:"filled",fullWidth:!0,children:[(0,I.jsx)(W.Z,{htmlFor:"name",children:"Name"}),(0,I.jsx)(A.Z,{endAdornment:(0,I.jsx)(F.Z,{position:"end",children:(0,I.jsx)(B.Z,{})}),fullWidth:!0,autoFocus:!0,id:"name",value:o.values.name,onChange:o.handleChange,type:"name",label:"Name",error:o.touched.name&&Boolean(o.errors.name)}),(0,I.jsx)(T.Z,{error:!0,children:o.touched.name&&o.errors.name})]})}),(0,I.jsx)(P.ZP,{item:!0,xs:12}),(0,I.jsx)(P.ZP,{item:!0,xs:12,children:(0,I.jsxs)(S.Z,{variant:"filled",fullWidth:!0,children:[(0,I.jsx)(W.Z,{htmlFor:"number",children:"Number"}),(0,I.jsx)(A.Z,{endAdornment:(0,I.jsx)(F.Z,{position:"end",children:(0,I.jsx)(E.Z,{})}),fullWidth:!0,id:"number",value:o.values.number,onChange:o.handleChange,type:"text",label:"Number",error:o.touched.number&&Boolean(o.errors.number)}),(0,I.jsx)(T.Z,{error:!0,children:o.touched.number&&o.errors.number})]})})]}),(0,I.jsx)(L.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"})]})})},J={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,width:300,bgcolor:"background.paper",boxShadow:24,p:"20px",zIndex:1e3,borderRadius:"15px"},Q=function(e){var n=e.isOpenModal,r=e.onClose;return(0,I.jsx)("div",{children:(0,I.jsx)(v.Z,{open:n,onClose:r,closeAfterTransition:!0,BackdropComponent:w.Z,BackdropProps:{timeout:500},"aria-labelledby":"spring-modal-name","aria-describedby":"spring-modal-number",children:(0,I.jsx)(y.Z,{in:n,children:(0,I.jsx)(x.Z,{sx:J,children:(0,I.jsx)(H,{onClose:r})})})})})},X=r(29585),ee=r(5403),ne=function(){var e=(0,a.I0)(),n=(0,a.v9)(d);return(0,I.jsxs)(x.Z,{sx:{flexGrow:1,alignItems:"center",maxWidth:"850px",m:"10px auto 0 auto"},children:[(0,I.jsx)(P.ZP,{item:!0,xs:12}),(0,I.jsx)(P.ZP,{item:!0,xs:12,children:(0,I.jsx)(S.Z,{variant:"filled",fullWidth:!0,children:(0,I.jsx)(A.Z,{placeholder:"Find contact by name",startAdornment:(0,I.jsx)(F.Z,{position:"start",children:(0,I.jsx)(ee.Z,{})}),id:"name",value:n,onChange:function(n){return e((0,X.T)(n.target.value))},type:"text",label:"Filter"})})})]})},re=r(56598);function te(){var e=(0,M.Z)(),n=(0,o.useState)(!1),r=(0,t.Z)(n,2),l=r[0],d=r[1],m=(0,a.I0)(),b=(0,a.v9)(u),f=(0,a.v9)(c);return(0,o.useEffect)((function(){m((0,s.yF)())}),[m]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(i.ql,{children:(0,I.jsx)("title",{children:"Your contacts"})}),(0,I.jsxs)(x.Z,{maxWidth:"xl",children:[(0,I.jsx)(re.Z,{display:"flex",children:0!==f.length&&(0,I.jsx)(ne,{})}),(0,I.jsxs)(re.Z,{children:[0!==f.length?(0,I.jsx)(D,{}):(0,I.jsx)(re.Z,{sx:{m:"25px auto 15px auto"},maxWidth:"sm",children:(0,I.jsx)(h.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:"Please add the contact to your phonebook"})}),b?U.Loading.pulse():U.Loading.remove(),(0,I.jsx)(p.Z,{"aria-label":"Add contact",color:"primary",size:"large",sx:{position:"absolute",top:"9%",right:"1%",width:"70px",height:"70px",bgcolor:"dark"===e.palette.mode?"#0288d1":"#01579b"},onClick:function(){return d(!0)},children:(0,I.jsx)(h.Z,{component:"p",fontSize:12,fontWeight:"700",textTransform:"none",children:"Add contact"})}),(0,I.jsx)(Q,{isOpenModal:l,onClose:function(){return d(!1)}})]})]})]})}},23867:function(e,n,r){r.d(n,{$3:function(){return o},KL:function(){return a},p7:function(){return i}});var t=r(24021),o=(r(87427),t.object().shape({name:t.string().min(3,"Too Short !").max(30,"Too Long !").required("Please enter your name"),email:t.string().email("Enter a Vaid Email").required("Email is Required"),password:t.string().required("Enter Your Password").min(8,"Password Should be minimum 8 character").max(50,"Too long")})),a=t.object().shape({email:t.string().email("Enter a Vaid Email").required("Email is Required"),password:t.string().required("Enter Your Password").min(8,"Password Should be minimum 8 character").max(50,"Too long")}),i=t.object().shape({name:t.string().required("The name must contain only letters and spaces."),number:t.string().phone(null,!0,"Number must contain 10 digits").required()})}}]);
//# sourceMappingURL=281.df6c269c.chunk.js.map